{"version":3,"sources":["components/Controls.jsx","App.js","reportWebVitals.js","index.js"],"names":["Controls","video","markerFound","instructions","useState","playing","setPlaying","document","querySelector","className","onClick","pause","play","addEventListener","endedAction","console","log","removeEventListener","disabled","App","initial","setMarkerFound","setInstructions","videoRef","useRef","searchParams","URLSearchParams","window","location","search","video_id","get","message","toggleMarkerFound","prev","useEffect","aCanvas","scene","sceneEl","classList","remove","add","current","vr-mode-ui","embed","arjs","id","crossOrigin","loop","preload","src","playsInline","ref","preset","value","position","look-at","height","width","rotation","gltf-model","scale","animation__bob","animation__spin","animation__wobble","animation","camera","rotation-reader","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","setTimeout","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.65194a89.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Controls.css\";\n\nexport default function Controls({ video, markerFound, instructions }) {\n  const [playing, setPlaying] = useState(false);\n\n  if (!video) {\n    video = document.querySelector(\"#video\");\n  }\n\n  const handleClick = () => {\n    const endedAction = () => {\n      console.log(\"ended\");\n      setPlaying(false);\n      video.removeEventListener(\"ended\", endedAction);\n    };\n    if (!video) {\n      video = document.querySelector(\"#video\");\n    }\n    if (playing) {\n      video.pause();\n      setPlaying(false);\n    } else if (markerFound) {\n      video.play();\n      setPlaying(true);\n      video.addEventListener(\"ended\", endedAction);\n    }\n  };\n\n  return (\n    <>\n      {instructions && (\n        <div className=\"messages\">\n          <p className=\"instructions\">{instructions}</p>\n        </div>\n      )}\n      <div className=\"buttons\">\n        <button\n          onClick={handleClick}\n          disabled={!markerFound}\n          className=\"play-button\"\n        >\n          {playing ? (\n            <i className=\"fas fa-pause\"></i>\n          ) : (\n            <i className=\"fas fa-play\"></i>\n          )}\n        </button>\n      </div>\n    </>\n  );\n}\n","import { useRef, useEffect, useState } from \"react\";\nimport Controls from \"./components/Controls\";\nimport \"./App.css\";\n\nfunction App() {\n  const initial = \"Hold Camera over Hiro Marker to Start!\";\n  const [markerFound, setMarkerFound] = useState(false);\n  const [instructions, setInstructions] = useState(initial);\n  const videoRef = useRef(null);\n  const searchParams = new URLSearchParams(window.location.search);\n  const video_id = searchParams.get(\"video\");\n  const message = searchParams.get(\"message\") || \"Happy Birthday!\";\n\n  const toggleMarkerFound = () => {\n    setMarkerFound((prev) => !prev);\n    setInstructions((prev) => {\n      if (prev) return \"\";\n      else return initial;\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"0.11.2\");\n    const aCanvas = document.querySelector(\".a-canvas\");\n    const hiro = document.querySelector(\"#hiro\");\n    const scene = hiro.sceneEl;\n    scene.addEventListener(\"markerFound\", toggleMarkerFound);\n    scene.addEventListener(\"markerLost\", toggleMarkerFound);\n    aCanvas.classList.remove(\"a-canvas\");\n    aCanvas.classList.add(\"override\");\n\n    return function cleanup() {\n      scene.removeEventListener(\"markerFound\", toggleMarkerFound);\n      scene.removeEventListener(\"markerLost\", toggleMarkerFound);\n    };\n  }, []);\n\n  return (\n    <>\n      <Controls\n        videoRef={videoRef.current}\n        markerFound={markerFound}\n        instructions={instructions}\n      />\n      <a-scene\n        vr-mode-ui={false}\n        embed\n        arjs=\"trackingMethod: best;\"\n        id=\"aframebox\"\n      >\n        <a-assets>\n          <video\n            id=\"video\"\n            crossOrigin=\"anonymous\"\n            loop={false}\n            preload=\"auto\"\n            src={`https://card-euwest-convert.s3-eu-west-1.amazonaws.com/${video_id}`}\n            playsInline\n            ref={videoRef}\n          ></video>\n        </a-assets>\n        <a-marker id=\"hiro\" preset=\"hiro\">\n          <a-text value={message} position=\"-1 2 -3\" look-at=\"#player\"></a-text>\n          <a-video\n            id=\"screen\"\n            src=\"#video\"\n            look-at=\"src: #player\"\n            position=\"0 0 -2\"\n            height=\"4\"\n            width=\"2\"\n            rotation=\"0 0 0\"\n          ></a-video>\n\n          <a-entity\n            id=\"balloonClust\"\n            gltf-model=\"url(https://richhouse83.github.io/c-ar-d-viewer/balloon-cluster/scene.gltf)\"\n            scale=\"0.2 0.2 0.2\"\n            position=\"-1.5 3.5 -1\"\n            animation__bob=\"property: object3D.position.y; to: 3.2; dir: alternate; dur: 1500; loop: true\"\n            animation__spin=\"property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 5000\"\n            animation__wobble=\"property: rotation; from: -7 0 6; to: 6 0 -6; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1400\"\n          ></a-entity>\n          <a-entity\n            id=\"balloon1\"\n            gltf-model=\"url(https://richhouse83.github.io/c-ar-d-viewer/balloon/scene.gltf)\"\n            scale=\"0.1 0.1 0.1\"\n            position=\"1 3 -2\"\n            animation=\"property: object3D.position.y; to: 3.2; dir: alternate; dur: 2000; loop: true\"\n            animation__spin=\"property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 6800\"\n            animation__wobble=\"property: rotation; from: -9 0 9; to: 8 0 -10; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1320\"\n          ></a-entity>\n          <a-entity\n            id=\"balloon3\"\n            gltf-model=\"url(https://richhouse83.github.io/c-ar-d-viewer/balloon/scene.gltf)\"\n            scale=\"0.1 0.1 0.1\"\n            position=\"1 3.2 3\"\n            animation__bob=\"property: object3D.position.y; to: 4; dir: alternate; dur: 3000; loop: true\"\n            animation__spin=\"property: rotation; to: 0 360 0; easing: easeInOutQuad; loop: true; dur: 4500\"\n            animation__wobble=\"property: rotation; from: -8 0 9; to: 10 0 -8; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1200\"\n          ></a-entity>\n          <a-entity\n            id=\"player\"\n            camera\n            rotation-reader\n            position=\"0 0.3 2\"\n          ></a-entity>\n        </a-marker>\n      </a-scene>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nsetTimeout(ReactDOM.render(<App />, document.getElementById(\"root\")), 1500);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}