(this["webpackJsonpc-ar-d-viewer"]=this["webpackJsonpc-ar-d-viewer"]||[]).push([[0],{11:function(e,t,o){},12:function(e,t,o){"use strict";o.r(t);var r=o(1),n=o(4),a=o.n(n),i=o(2),s=(o(9),o(0));function c(e){var t=e.video,o=e.markerFound,n=e.instructions,a=Object(r.useState)(!1),c=Object(i.a)(a,2),u=c[0],l=c[1],d=Object(r.useState)(!0),b=Object(i.a)(d,2),p=b[0],m=b[1],j=Object(r.useState)(!0),h=Object(i.a)(j,2),g=h[0],f=h[1],y=document.querySelector("#container"),O=document.querySelector("#screen"),v=document.querySelector("#orient");t||(t=document.querySelector("#video"));return Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{className:"messages",children:Object(s.jsx)("p",{className:"instructions",children:n})}),Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("button",{className:"play-button",disabled:!o,onClick:function(){v.classList.toggle("rotated"),O.setAttribute("height",g?2:4),O.setAttribute("width",g?4:2),f((function(e){return!e}))},children:Object(s.jsx)("i",{id:"orient",className:"fas fa-mobile"})}),Object(s.jsx)("button",{onClick:function(){t||(t=document.querySelector("#video")),u?(t.pause(),l(!1)):o&&(t.play(),l(!0),t.addEventListener("ended",(function e(){console.log("ended"),l(!1),t.removeEventListener("ended",e)})))},disabled:!o,className:"play-button",children:u?Object(s.jsx)("i",{className:"fas fa-pause"}):Object(s.jsx)("i",{className:"fas fa-play"})}),Object(s.jsx)("button",{onClick:function(){console.log(O),p?(O.removeAttribute("look-at"),O.object3D.position.set(0,0,.2),O.object3D.rotation.set(0,0,0)):(O.setAttribute("look-at",{src:"#player"}),O.object3D.position.set(0,0,-2)),y.object3D.rotation.x+=p?-1.5708:1.5708,m((function(e){return!e}))},disabled:!o,className:"play-button",children:p?"Flat":"Upright"})]})]})}o(11);var u=o.p+"static/media/scene.dbaf5295.gltf";var l=function(){var e="Hold Camera over Hiro Marker to Start!",t=Object(r.useState)(!1),o=Object(i.a)(t,2),n=o[0],a=o[1],l=Object(r.useState)(e),d=Object(i.a)(l,2),b=d[0],p=d[1],m=Object(r.useRef)(null),j=new URLSearchParams(window.location.search),h=j.get("video"),g=j.get("message")||"Happy Birthday!";console.log("cake",u);var f=function(){a((function(e){return!e})),p((function(t){return t?"":e}))};return Object(r.useEffect)((function(){console.log("c-ar-d-viewer 0.12.0");var e=document.querySelector(".a-canvas"),t=document.querySelector("#hiro").sceneEl;return t.addEventListener("markerFound",f),t.addEventListener("markerLost",f),e.classList.remove("a-canvas"),e.classList.add("override"),function(){t.removeEventListener("markerFound",f),t.removeEventListener("markerLost",f)}}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(c,{videoRef:m.current,markerFound:n,instructions:b}),Object(s.jsxs)("a-scene",{"vr-mode-ui":!1,arjs:"trackingMethod: best;",id:"aframebox",renderer:"logarithmicDepthBuffer: true;",children:[Object(s.jsx)("a-assets",{children:Object(s.jsx)("video",{id:"video",crossOrigin:"anonymous",loop:!1,preload:"auto",src:"https://card-euwest-convert.s3-eu-west-1.amazonaws.com/".concat(h),playsInline:!0,ref:m})}),Object(s.jsx)("a-marker",{id:"hiro",smooth:"true",smoothCount:"10",type:"pattern",url:"https://raw.githubusercontent.com/richhouse83/c-ar-d-viewer/master/public/pattern-cardllogosquare2.patt",children:Object(s.jsxs)("a-entity",{id:"container",position:"0 0 0",children:[Object(s.jsx)("a-video",{id:"screen",src:"#video",position:"0 0 -2",height:"4",width:"2",rotation:"0 0 0"}),Object(s.jsx)("a-text",{value:g,position:"-0.8 3.5 1","look-at":"src: #player"}),Object(s.jsx)("a-entity",{id:"balloonClust","gltf-model":"url(https://richhouse83.github.io/c-ar-d-viewer/balloon-cluster/scene.gltf)",crossOrigin:"anonymous",scale:"0.2 0.2 0.2",position:"0 3.2 -1",animation__bob:"property: object3D.position.y; to: 3.2; dir: alternate; dur: 1500; loop: true",animation__spin:"property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 5000",animation__wobble:"property: rotation; from: -7 0 6; to: 6 0 -6; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1400"}),Object(s.jsx)("a-entity",{id:"balloon3","gltf-model":"url(https://richhouse83.github.io/c-ar-d-viewer/balloon/scene.gltf)",scale:"0.1 0.1 0.1",position:"-1.2 3.1 -2",animation__bob:"property: object3D.position.y; to: 4; dir: alternate; dur: 3000; loop: true",animation__spin:"property: rotation; to: 0 360 0; easing: easeInOutQuad; loop: true; dur: 4500",animation__wobble:"property: rotation; from: -8 0 9; to: 10 0 -8; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1200"}),Object(s.jsx)("a-entity",{id:"balloon1","gltf-model":"url(https://richhouse83.github.io/c-ar-d-viewer/balloon/scene.gltf)",scale:"0.1 0.1 0.1",position:"1 3 -2",animation:"property: object3D.position.y; to: 3.2; dir: alternate; dur: 2000; loop: true",animation__spin:"property: rotation; to: 0 360 0; easing: linear; loop: true; dur: 6800",animation__wobble:"property: rotation; from: -9 0 9; to: 8 0 -10; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1320"}),Object(s.jsx)("a-entity",{id:"cake","gltf-model":"url(https://richhouse83.github.io/c-ar-d-viewer/cake/scene.gltf)",scale:"0.009 0.009 0.009",position:"-2 0 -1",animation__spin:"property: rotation; to: 0 360 0; easing: easeInOutQuad; loop: true; dur: 4500",animation__wobble:"property: rotation; from: -8 0 9; to: 10 0 -8; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1200"}),Object(s.jsx)("a-entity",{id:"gift_box","gltf-model":"url(https://raw.githubusercontent.com/richhouse83/c-ar-d-viewer/master/public/gift_box/scene.gltf)",scale:"0.5 0.5 0.5",position:"1.8 0.8 -1",animation__spin:"property: rotation; to: 0 360 0; easing: easeInOutQuad; loop: true; dur: 4500",animation__wobble:"property: rotation; from: -8 0 9; to: 10 0 -8; dir: alternate; easing: easeInOutQuad; elasticity: 800; loop: true; dur: 1200"})]})}),Object(s.jsx)("a-entity",{id:"player",camera:!0,position:"0 0.3 2"})]})]})},d=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,13)).then((function(t){var o=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),r(e),n(e),a(e),i(e)}))};setTimeout(a.a.render(Object(s.jsx)(l,{}),document.getElementById("root")),1500),d()},9:function(e,t,o){}},[[12,1,2]]]);
//# sourceMappingURL=main.a912f6da.chunk.js.map